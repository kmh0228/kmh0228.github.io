import{l as B,d as u,e as g,m as T,S as O,o as r,c as a,b as i,n as j,p as A,q as F,s as z,v as N,F as D,x as w,u as c,a as _,w as h,y as p,t as v,z as H,j as x,B as y,_ as f,A as S,C as R,D as C,r as V,E as q,f as E,G as $,H as P}from"./index-CoKLFguH.js";import{e as G,i as J,r as W,c as U}from"./funTools-B9fXDliC.js";import{N as b}from"./Icon-koFXer_Q.js";const K=Object.assign(Object.assign({},B.props),{trigger:String,xScrollable:Boolean,onScroll:Function,contentClass:String,contentStyle:[Object,String],size:Number}),Q=u({name:"Scrollbar",props:K,setup(){const t=g(null);return Object.assign(Object.assign({},{scrollTo:(...o)=>{var n;(n=t.value)===null||n===void 0||n.scrollTo(o[0],o[1])},scrollBy:(...o)=>{var n;(n=t.value)===null||n===void 0||n.scrollBy(o[0],o[1])}}),{scrollbarInstRef:t})},render(){return T(O,Object.assign({ref:"scrollbarInstRef"},this.$props),this.$slots)}}),X={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Y=i("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"48",d:"M184 112l144 144l-144 144"},null,-1),Z=[Y],L=u({name:"ChevronForward",render:function(e,o){return r(),a("svg",X,Z)}}),I={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},tt=i("path",{d:"M221.09 64a157.09 157.09 0 1 0 157.09 157.09A157.1 157.1 0 0 0 221.09 64z",fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32"},null,-1),et=i("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-miterlimit":"10","stroke-width":"32",d:"M338.29 338.29L448 448"},null,-1),ot=[tt,et],st=u({name:"SearchOutline",render:function(e,o){return r(),a("svg",I,ot)}}),nt=()=>j.get("/api/getDocData",{},{useMock:!0}),k=A("docStore",{state:()=>({leftBarWidth:136,docData:void 0,curShowDoc:[],curMenuDoc:[],_events:{}}),getters:{levelsNum(t){return F(t.docData)},curDoc(t){return t.curShowDoc[0]}},actions:{on(t,e){var o,n;this._events[t]||(this._events[t]=[]),(o=this._events[t])!=null&&o.find(d=>d===e)||(n=this._events[t])==null||n.push(e)},off(t,e){var o;this._events[t]=(o=this._events[t])==null?void 0:o.filter(n=>n!==e)},setCurShowDoc(t){(t==null?void 0:t.constructor)===Array?this.curShowDoc=t:this.curShowDoc=[t]},setCurMenuDoc(t){(t==null?void 0:t.constructor)===Array?this.curMenuDoc=t:this.curMenuDoc=[t]},initCurDoc(t){this.setCurShowDoc(t),this.setCurMenuDoc(t)},activeMenu(t){var o;const e=[...t.parents||[],t];this.setCurMenuDoc(t.parents),this.setCurShowDoc(e),(o=this._events.onActiveMenu)==null||o.forEach(n=>{n(t)})},openMenu(t){const e=[...t.parents||[],t];this.setCurMenuDoc(e)},init(){return this.updateDocData()},updateDocData(){return nt().then(({data:t})=>(this.setDocData(t||[]),t))},setDocData(t){z(t,"children"),this.docData=t,this.initCurDoc(t[0])},getDocData(){return N(this.docData,"children")}}}),ct={class:"docs_header_container"},rt={class:"menu_container"},at=["onClick"],it={class:"operation_content"},lt=u({__name:"DocsHeader",setup(t){const e=k(),o=()=>{G(JSON.stringify(e.getDocData()),"export_docs")},n=()=>{J({acceptType:["txt"],multiple:!1}).then(d=>{W(d[0]).then(l=>{e.setDocData(JSON.parse(l))})})};return(d,l)=>(r(),a("div",ct,[i("div",rt,[(r(!0),a(D,null,w(c(e).docData||[],s=>(r(),a("a",{key:s.id,class:p(["menu_item",{active:s===c(e).curDoc}]),onClick:m=>c(e).initCurDoc(s)},v(s.name),11,at))),128))]),i("div",it,[_(c(H),{class:"operation_item",round:"",placeholder:"搜索"},{suffix:h(()=>[_(c(b),{component:c(st)},null,8,["component"])]),_:1}),_(c(y),{class:"operation_item",type:"info",onClick:o},{default:h(()=>[x("导出")]),_:1}),_(c(y),{class:"operation_item",type:"info",onClick:n},{default:h(()=>[x("导入")]),_:1})])]))}}),dt=f(lt,[["__scopeId","data-v-99761d33"]]),_t={class:"doc_left_bar_container"},ut=["onClick"],ht=["onClick"],pt=u({__name:"DocsLeftBar",setup(t){const e=k();return(o,n)=>(r(),a("div",_t,[(r(!0),a(D,null,w(c(e).curMenuDoc,(d,l)=>(r(),a("div",{key:d.id,class:p(["menu_list_box",{hasRightBorder:l<c(e).curMenuDoc.length-1}]),style:S({width:c(e).leftBarWidth+"px"})},[i("div",{class:p(["menu_list_container","menu_list_container_lv"+l])},[(r(!0),a(D,null,w(d.children||[],s=>{var m;return r(),a("div",{key:s.id,class:p(["menu_item",{active:s.id===((m=c(e).curShowDoc[l+1])==null?void 0:m.id)}]),onClick:M=>c(e).activeMenu(s)},[i("div",{class:"title",style:S({width:s.children&&s.children.length?"width: calc(100% - 16px)":"100%"})},v(s.name),5),s.children&&s.children.length?(r(),a("div",{key:0,class:"arrow_icon",onClick:R(M=>c(e).openMenu(s),["stop"])},[_(c(b),{size:"14",component:c(L)},null,8,["component"])],8,ht)):C("",!0)],10,ut)}),128))],2)],6))),128))]))}}),vt=f(pt,[["__scopeId","data-v-72be41b5"]]),ft=["data-id"],Dt={class:"title"},wt=["innerHTML"],Ct={key:0,class:"code"},kt={key:0,class:"children"},mt=u({name:"DocsContentItem",__name:"DocsContentItem",props:{data:{},level:{}},setup(t){const e=t,o=()=>{U(e.data.code||"")};return(n,d)=>{const l=V("docs-content-item",!0);return r(),a("div",{class:"docs_content_item_container","data-id":e.data.id},[i("div",{class:p(["content","content_"+e.level])},[i("div",Dt,v(e.data.name),1),i("div",{class:"desc",innerHTML:e.data.desc},null,8,wt),e.data.code?(r(),a("div",Ct,[_(c(Q),{style:{"max-height":"120px"}},{default:h(()=>[i("pre",null,v(e.data.code),1)]),_:1}),_(c(y),{size:"tiny",secondary:"",strong:"",class:"copy_btn",onClick:o},{default:h(()=>[x(" 复制 ")]),_:1})])):C("",!0)],2),e.data.children?(r(),a("div",kt,[(r(!0),a(D,null,w(e.data.children,s=>(r(),q(l,{key:s.id,data:s,level:e.level+1},null,8,["data","level"]))),128))])):C("",!0)],8,ft)}}}),xt=f(mt,[["__scopeId","data-v-87bf3db9"]]),yt={key:0,class:"docs_content_container"},St={class:"docs_content_title"},gt=u({__name:"DocsContent",setup(t){const e=k(),o=g(null),n=E(()=>e.curShowDoc.map(l=>l.name).join(" > ")),d=l=>{const s=document.querySelector('[data-id="'+l.id+'"]');s&&o.value&&(o.value.scrollTop=s.offsetTop)};return $(()=>{e.on("onActiveMenu",d)}),P(()=>{e.on("onActiveMenu",d)}),(l,s)=>c(e).curDoc?(r(),a("div",yt,[i("div",St,v(n.value),1),i("div",{ref_key:"scrollContainer",ref:o,class:"docs_content_scroll_box"},[_(xt,{data:c(e).curDoc,level:1},null,8,["data"])],512)])):C("",!0)}}),$t=f(gt,[["__scopeId","data-v-01175924"]]),bt={class:"docs_container"},Mt={class:"docs_body_container"},Bt={class:"docs_body_content"},Tt=u({__name:"docs",setup(t){return $(()=>{k().init()}),(e,o)=>(r(),a("div",bt,[_(dt),i("div",Mt,[_(vt),i("div",Bt,[_($t)])])]))}}),Ft=f(Tt,[["__scopeId","data-v-cf45facc"]]);export{Ft as default};
